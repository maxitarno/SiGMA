<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <title></title>
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <script type="text/javascript" src="Scripts/jquery-2.1.3.js"></script>
    <script type="text/javascript" src="Scripts/jsapi.js"></script>
    <script type="text/javascript" src="Scripts/jQuery.print.js"></script>
    <script type="text/javascript">
        // Load the Visualization API and the piechart package.
        google.load('visualization', '1', { 'packages': ['corechart'] });

        // Set a callback to run when the Google Visualization API is loaded.
        google.setOnLoadCallback(drawChart);

        // Callback that creates and populates a data table,
        // instantiates the pie chart, passes in the data and
        // draws it.
        function drawChart() {
        function getURLParameter(name) { return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [, ""])[1].replace(/\+/g, '%20')) || null }
        var a = getURLParameter("a");
        var h = getURLParameter("h");
        var p = getURLParameter("p");
        var d = getURLParameter("d");
        var e = getURLParameter("e");
        var f = getURLParameter("f");
        var m = parseInt(a) + parseInt(h) + parseInt(p) + parseInt(d) + parseInt(e) + parseInt(f);
        // Create the data table.
            var data = new google.visualization.arrayToDataTable([
            ["Estado", "Cantidad", { role: "style" } ],
            ["Perdidas", parseInt(a), "black"],
            ["Halladas", parseInt(h), "yellow"],
            ["Adoptadas", parseInt(p), "blue"],
            ["Con Dueño", parseInt(d), "orange"],
            ["En Adopcion", parseInt(e), "green"],
            ["Fallecidas", parseInt(f), "red"]
        ]);
            // Set chart options
            var options = { 
                'title': 'Total de las mascotas clasificadas por estado',
                'width': 500,
                'height': 500,
                'bar': {groupWidth: "25%"},
                'legend': { position: "none" },
                //'colors':['red','#004411'],
                'dataOpacity': 0.8,
                //'fontSize': 22,
                'tooltip.showColorCode': 'blue',
            };

            // Instantiate and draw our chart, passing in some options.
            var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>
</head>
    <body>
    <script type="text/javascript">

        // When the document is ready, initialize the link so
        // that when it is clicked, the printable area of the
        // page will print.
        $(
            function () {

                // Hook up the print link.
                $("a")
                    .attr("href", "javascript:void( 0 )")
                    .click(
                        function () {
                            // Print the DIV.
                            $(".printable").print();

                            // Cancel click event.
                            return (false);
                        }
                        )
                ;

            }
            );
  
    </script>
    <div class="printable">
        <div class="col-md-12">
            <div class="col-md-8 col-md-offset-2">
                <center>
                    <h4>
                        Estadísticas de SIGMA 
                        <br />
                        <br />
                        <img alt="" src="assets/img/menu/mascotas.png" width="70px" height="70px" />                   
                    </h4>
                </center>
                 <center>
                    <p style="text-align:center">
                       Estos gráficos muestran la cantidad de mascotas por estado en la actualidad.
                    </p>
                </center>
            </div>
        </div>
        <div class="col-md-12">
            <div class="col-md-8 col-md-offset-2">
                <center>
                    <div id="chart_div">

                    </div>
                </center>
            </div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="col-md-4 col-md-offset-4">
            <center>
                <p>
                    <a>Imprimir</a>
                </p>
            </center>
        </div>
    </div>
</body>
</html>
